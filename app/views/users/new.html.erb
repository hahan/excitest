<% provide(:title, 'Signup - Excitest') %>

<div>
  <%= form_for(@user) do |f| %>
      <%= render 'shared/error_messages' %>

      <h4>New profile</h4>
      <table>
        <tr>
          <td>
            <%= f.label :name %>
          </td>
          <td>
            <%= f.text_field :name %>
          </td>
        </tr>
        <tr>
          <td>
            <%= f.label :email %>
          </td>
          <td>
            <%= f.text_field :email %>
          </td>
        </tr>
        <tr>
          <td>
            <%= f.label :password %>
          </td>
          <td>
            <%= f.password_field :password %>
          </td>
        </tr>
        <tr>
          <td>
            <%= f.label :password_confirmation %>
          </td>
          <td>
            <%= f.password_field :password_confirmation %>
          </td>
        </tr>
      </table>

      <br/>

      <br/>
      <table align="center">
        <tr>
          <td align="center"><%= f.submit "Signup", class: "btn btn-large btn-primary" %></td>
        </tr>
      </table>

  <% end %>

</div>

<%= javascript_tag do %>
    $(document).ready(function () {
        var counter = 0;
        var table = $("#entries_table"),
        button = $("#add_entries");

        button.click( function () {
            counter = $('#entries_table tr').length;
            var newRow = $("<tr>");
            var cols = "";

            cols += '<td><input id="user_card_user_card_entries_attributes_' + counter + '_entry_key" name="user_card[user_card_entries_attributes][' + counter + '][entry_key]" type="text" /></td>';
            cols += '<td><textarea id="user_card_user_card_entries_attributes_' + counter + '_entry_value" name="user_card[user_card_entries_attributes][' + counter + '][entry_value]"> </textarea></td>';

            cols += '<td><input type="button" class="ibtnDel"  value="Delete"></td>';

            newRow.append(cols);
            table.append(newRow);
            counter++;
        });

        $("table.order-list").on("click", ".ibtnDel", function (event){
            $(this).closest("tr").remove();
            counter -= 1
        });

    });


<% end %>